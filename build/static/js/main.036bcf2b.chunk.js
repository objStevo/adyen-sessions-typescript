(this["webpackJsonpadyen-web-typescript"]=this["webpackJsonpadyen-web-typescript"]||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var c=n(8),o=n(10),r=(n(25),n(26),n(27),n(12)),s=n(11),i=n(6),a=n(1),u=n(4),d=n(5),O=(n(28),n.p+"static/media/adyen-header-logo-green.b4f6545a.svg"),j=n(3),l=function(){return Object(j.jsx)("div",{id:"header",children:Object(j.jsx)(d.f,{color:"dark",dark:!0,expand:"md",children:Object(j.jsx)(d.g,{href:"/",id:"adyen-logo",children:Object(j.jsx)("img",{width:"150px",height:"auto",src:O,alt:"logo"})})})})},b=function(e){var t=e.options,n=t.value,c=t.currency,o=t.countryCode,r=t.component,s=e.onSubmit,i=e.onChange,a=function(e){i(e)};return Object(j.jsxs)(d.b,{onSubmit:function(e){e.preventDefault(),s()},children:[Object(j.jsxs)(d.c,{children:[Object(j.jsx)(d.e,{for:"value",children:"Amount Value"}),Object(j.jsx)(d.d,{type:"number",name:"value",value:n,onChange:a})]}),Object(j.jsxs)(d.c,{children:[Object(j.jsx)(d.e,{for:"currency",children:"Currency"}),Object(j.jsxs)(d.d,{type:"select",name:"currency",onChange:a,selected:c,children:[Object(j.jsx)("option",{value:"EUR",children:"EUR"}),Object(j.jsx)("option",{value:"USD",children:"USD"})]})]}),Object(j.jsxs)(d.c,{children:[Object(j.jsx)(d.e,{for:"countryCode",children:"Country Code"}),Object(j.jsx)(d.d,{name:"countryCode",value:o,onChange:a})]}),Object(j.jsxs)(d.c,{children:[Object(j.jsx)(d.e,{for:"currency",children:"Type"}),Object(j.jsxs)(d.d,{type:"select",name:"component",onChange:a,selected:r,children:[Object(j.jsx)("option",{value:"dropin",children:"Drop-in"}),Object(j.jsx)("option",{value:"card",children:"Credit Cards"}),Object(j.jsx)("option",{value:"paypal",children:"Pay Pal"})]})]}),Object(j.jsx)("div",{style:{marginTop:"10px",textAlign:"right"},children:Object(j.jsx)(d.a,{type:"submit",color:"primary",children:"Submit"})})]})},p=n(13),S=n(9),_=n.n(S),h=n(18),v=n.n(h),E=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_URL,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).RETURN_URL||"http://localhost:8080"),C=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CLIENT_KEY||"test_CTOT7ZHBDVAHBHIABJ63CUQW7QMVDQFD",f=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_ENVIRONMENT||"test",T=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_USER_LOCALE,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_MERCHANT_ACCOUNT||"MikeOssig"),y=function(e){console.log("Starting session with params",e);var t=Object(a.useState)(null),n=Object(i.a)(t,2),c=n[0],o=n[1],r=function(e){var t=Object(a.useRef)(),n=t.current,c=function(e,t){if(!e)return!1;var n=e.value&&e.value===t.value,c=e.currency&&e.currency===t.currency;return e.countryCode&&e.countryCode===t.countryCode&&c&&n}(n,e);return Object(a.useEffect)((function(){c||(t.current=e)})),c?n:e}(e);return Object(a.useEffect)((function(){var t={merchantAccount:T,amount:{value:100*e.value,currency:e.currency},returnUrl:E,reference:Math.floor(1e8*Math.random()),countryCode:e.countryCode},n={method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(t)},c=function(){var e=Object(p.a)(_.a.mark((function e(){var t,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("calling server"),e.prev=1,e.next=4,fetch("http://localhost:8080/startSession",n);case 4:return t=e.sent,e.next=7,t.json();case 7:c=e.sent,console.log("sessionsResponse",c),o(c),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),e.t0&&"object"===typeof e.t0?console.error("Error",e.t0):console.error("Something went wrong");case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();c()}),[r]),[c]},m=function(e){var t=e.type,n=function(e,t,n){var c=Object(a.useState)(null),o=Object(i.a)(c,2),r=o[0],s=o[1];return Object(a.useEffect)((function(){var c={environment:f,clientKey:C,session:{id:e,sessionData:t},onPaymentCompleted:function(e,t){console.info(e,t)},onError:function(e,t){console.error(e.name,e.message,e.stack,t)}},o=function(){var e=Object(p.a)(_.a.mark((function e(t){var c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()(t);case 2:c=e.sent,n&&(console.log("redirectResult found",n),c.submitDetails({details:{redirectResult:n}})),s(c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();o(c)}),[e,t,n]),console.log(r),[r]}(e.sessionId,e.sessionData),c=Object(i.a)(n,1)[0];return console.log(t),c&&c.create(t).mount("#checkout"),Object(j.jsx)("div",{id:"checkout"})},x=function(e){var t=e.value,n=e.currency,c=e.countryCode,o=Object(u.g)().component,r=y({value:t,currency:n,countryCode:c}),s=Object(i.a)(r,1)[0];return s&&o?(console.log(s),Object(j.jsx)(m,{type:o,sessionId:s.id,sessionData:s.sessionData})):Object(j.jsx)("div",{children:"Something is wrong here..."})},R=function(e){var t=e.options,n=e.onSubmit,c=e.onChange;return Object(j.jsxs)(u.c,{children:[Object(j.jsx)(u.a,{path:"/",element:Object(j.jsx)(b,{options:t,onSubmit:n,onChange:c})}),Object(j.jsx)(u.a,{path:"/components/:component",element:Object(j.jsx)(x,Object(s.a)({},t))})]})},g=function(){var e=Object(a.useState)({value:25,currency:"EUR",countryCode:"NL",component:"dropin"}),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(u.f)();return Object(j.jsxs)("div",{id:"app",children:[Object(j.jsx)(l,{}),Object(j.jsx)(R,{onSubmit:function(){o("/components/"+n.component)},onChange:function(e){c((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(r.a)({},e.target.name,e.target.value))}))},options:n})]})},D=document.getElementById("root");Object(c.render)(Object(j.jsx)(o.a,{children:Object(j.jsx)(g,{})}),D)}},[[34,1,2]]]);
//# sourceMappingURL=main.036bcf2b.chunk.js.map